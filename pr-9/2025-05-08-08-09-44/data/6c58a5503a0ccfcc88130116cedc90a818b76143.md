# Test info

- Name: Should fail
- Location: /home/runner/work/playwright-tests/playwright-tests/tests/example.spec.ts:20:1

# Error details

```
Error: expect(received).toBe(expected) // Object.is equality

Expected: false
Received: true
    at /home/runner/work/playwright-tests/playwright-tests/tests/example.spec.ts:21:16
```

# Test source

```ts
   1 | import { test, expect } from '@playwright/test';
   2 |
   3 | test('has title', async ({ page }) => {
   4 |   await page.goto('https://playwright.dev/');
   5 |
   6 |   // Expect a title "to contain" a substring.
   7 |   await expect(page).toHaveTitle(/Playwright/);
   8 | });
   9 |
  10 | test('get started link', async ({ page }) => {
  11 |   await page.goto('https://playwright.dev/');
  12 |
  13 |   // Click the get started link.
  14 |   await page.getByRole('link', { name: 'Get started' }).click();
  15 |
  16 |   // Expects page to have a heading with the name of Installation.
  17 |   await expect(page.getByRole('heading', { name: 'Installation' })).toBeVisible();
  18 | });
  19 |
  20 | test('Should fail', async ({}) => {
> 21 |   expect(true).toBe(false);
     |                ^ Error: expect(received).toBe(expected) // Object.is equality
  22 | })
  23 |
```

# Local changes

```diff
diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml
index a250106..63cc1ec 100644
--- a/.github/workflows/playwright.yml
+++ b/.github/workflows/playwright.yml
@@ -2,9 +2,10 @@ name: Playwright Test
 
 on:
   push:
-    branches: [main]
+    branches: [main, dev, stg, prod]
   pull_request:
-    branches: [main]
+    types: [opened, synchronize, reopened]
+    branches: [main, dev, stg, prod]
 
 permissions:
   contents: write
@@ -14,27 +15,24 @@ permissions:
   issues: write
 
 jobs:
-  wait-for-deployment-url:
-    runs-on: ubuntu-latest
-    name: Wait for Vercel Deployment URL
-    steps:
-      - name: Wait for 200 status from vercel deployment
-        uses: patrickedqvist/wait-for-vercel-preview@v1.3.1
-        id: wait-for-deployment
-        with:
-          token: ${{ secrets.GITHUB_TOKEN }}
-          max_timeout: 120
-    outputs:
-      deployment_url: ${{ steps.wait-for-deployment.outputs.url }}
-
   test:
     name: Run Tests
-    needs: wait-for-deployment-url
     runs-on: ubuntu-latest
     env:
-      BASE_URL: ${{ needs.wait-for-deployment-url.outputs.deployment_url }}
+      BASE_URL: https://ff-customer-portal-git-${{github.ref_name}}-egaliti.vercel.app
       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
     steps:
+      - name: wait for deployment to finish
+        run: sleep 60
+
+      - name: Set Pull Request Branch
+        if: github.event_name == 'pull_request'
+        run: echo "GITHUB_REF_NAME=${{ github.head_ref }}" >> $GITHUB_ENV
+
+      - name: Set Push Branch
+        if: github.event_name != 'pull_request'
+        run: echo "GITHUB_REF_NAME=${{ github.ref_name }}" >> $GITHUB_ENV
+
       - name: Checkout code
         uses: actions/checkout@v4
 
@@ -52,6 +50,8 @@ jobs:
 
       - name: Run Playwright tests
         continue-on-error: true
+        env:
+          BASE_URL: "https://ff-customer-portal-git-${{ env.GITHUB_REF_NAME }}-egaliti.vercel.app"
         run: npx playwright test
 
       - name: extract test results
```